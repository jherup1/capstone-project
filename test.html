<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body>

    <div>
        <label for="nameEntry">Name:</label>
        <input type="text" id="nameEntry" name="nameEntry"><br><br>

        <label for="emailEntry">Email:</label>
        <input type="email" id="emailEntry" name="emailEntry"><br><br>

        <label for="phoneEntry">Phone #:</label>
        <input type="tel" id="phoneEntry" name="phoneEntry"><br><br>

        <button onclick="submitData()">Submit</button>
    </div>
	<script type="module">
		// Import the functions you need from the SDKs you need
		import { initializeApp } from "https://www.gstatic.com/firebasejs/10.3.1/firebase-app.js";
		import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.3.1/firebase-analytics.js";
		// TODO: Add SDKs for Firebase products that you want to use
		// https://firebase.google.com/docs/web/setup#available-libraries

		// Your web app's Firebase configuration
		// For Firebase JS SDK v7.20.0 and later, measurementId is optional
		const firebaseConfig = {
			apiKey: "AIzaSyAIzeeBj-R_3YYAOvXsbBI7pt41MnnhGxQ",
			authDomain: "cs425-capstone.firebaseapp.com",
			projectId: "cs425-capstone",
			storageBucket: "cs425-capstone.appspot.com",
			messagingSenderId: "50508136660",
			appId: "1:50508136660:web:db86e3ae4e39bb81e4bb41",
			measurementId: "G-JQ9DELZDVX"
		};

		// Initialize Firebase
		const app = initializeApp(firebaseConfig);
		const analytics = getAnalytics(app);
	</script>
	
    <script>
        // TODO: figure out how to connect to firebase
        const db = getFirestore(app);

        window.submitData = function () {
            const nameValue = document.getElementById('nameEntry').value;
            const emailValue = document.getElementById('emailEntry').value;
            const phoneValue = document.getElementById('phoneEntry').value;

            db.collection('entries').add({
                name: nameValue,
                email: emailValue,
                phone: phoneValue
            })
                .then(() => {
                    console.log("Document successfully written!");
                })
                .catch((error) => {
                    console.error("Error writing document: ", error);
                });
        }
    </script>


</body>

</html>

